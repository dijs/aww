(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){},11:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(3),l=t.n(o),c=(t(10),t(1));function i(e){var n=e.title;return n.length<36?r.a.createElement("h2",null,n):r.a.createElement("h2",null,n.substring(0,45),"...")}function u(e){var n=document.createElement("textarea");return n.innerHTML=e,0===n.childNodes.length?"":n.childNodes[0].nodeValue}function s(e){var n=e.title,t=e.thumbnail,a=e.preview,o=e.onClose,l=r.a.useState(!1),i=Object(c.a)(l,2),s=i[0],m=i[1];if(!s){var d=new Image;console.log(n,"is preloading"),d.onload=function(){console.log(n,"was preloaded"),m(!0)},d.src=u(a.url)}var h=s?u(a.url):t;return r.a.createElement("main",{style:{backgroundImage:"url(".concat(h,")")}},r.a.createElement("h1",null,n),r.a.createElement("div",{className:"close",onClick:o},r.a.createElement("div",{className:"inner"},"\xd7")))}function m(e){var n=e.title,t=e.thumbnail,a=e.onSelect;return r.a.createElement("article",{key:n,onClick:a,style:{backgroundImage:"url(".concat(t,")")}},r.a.createElement(i,{title:n}))}var d=function(){var e=function(){var e=r.a.useState([]),n=Object(c.a)(e,2),t=n[0],a=n[1];return t.length||fetch("https://api.reddit.com/r/aww/new.json").then(function(e){return e.json()}).then(function(e){a(e.data.children.map(function(e){var n=e.data.preview&&e.data.preview.images[0].resolutions;return{title:e.data.title,thumbnail:e.data.thumbnail,preview:n&&n[n.length-1]}}))}).catch(function(e){console.log(e)}),{posts:t}}().posts,n=r.a.useState(null),t=Object(c.a)(n,2),a=t[0],o=t[1];return e.length?null===a?r.a.createElement("div",{className:"container"},e.map(function(e,n){return r.a.createElement(m,Object.assign({},e,{onSelect:function(){return o(n)}}))})):r.a.createElement(s,Object.assign({},e[a],{onClose:function(){return o(null)}})):r.a.createElement("div",{className:"loading"},"Loading...")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,n,t){e.exports=t(11)}},[[4,1,2]]]);
//# sourceMappingURL=main.a51ed5a6.chunk.js.map