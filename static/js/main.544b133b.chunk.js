(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){},11:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(3),o=t.n(l),c=(t(10),t(1));function i(e){var n=e.title;return n.length<36?r.a.createElement("h2",null,n):r.a.createElement("h2",null,n.substring(0,45),"...")}function u(e){var n=document.createElement("textarea");return n.innerHTML=e,0===n.childNodes.length?"":n.childNodes[0].nodeValue}function s(e){var n=e.active,t=e.title,a=e.thumbnail,l=e.preview,o=e.onClose,i=r.a.useState(!1),s=Object(c.a)(i,2),m=s[0],d=s[1];if(!n)return r.a.createElement("main",null);if(!m){var h=new Image;console.log(t,"is preloading"),h.onload=function(){console.log(t,"was preloaded"),d(!0)},h.src=u(l.url)}var v=m?u(l.url):a;return r.a.createElement("main",{className:"active",style:{backgroundImage:"url(".concat(v,")")}},r.a.createElement("h1",null,t),r.a.createElement("div",{className:"close",onClick:o},r.a.createElement("div",{className:"inner"},"\xd7")))}function m(e){var n=e.title,t=e.thumbnail,a=e.onSelect;return r.a.createElement("article",{key:n,onClick:a,style:{backgroundImage:"url(".concat(t,")")}},r.a.createElement(i,{title:n}))}var d=function(){var e=function(){var e=r.a.useState([]),n=Object(c.a)(e,2),t=n[0],a=n[1];return t.length||fetch("https://api.reddit.com/r/aww/new.json").then(function(e){return e.json()}).then(function(e){a(e.data.children.map(function(e){var n=e.data.preview&&e.data.preview.images[0].resolutions;return{title:e.data.title,thumbnail:e.data.thumbnail,preview:n&&n[n.length-1]}}))}).catch(function(e){console.log(e)}),{posts:t}}().posts,n=r.a.useState(null),t=Object(c.a)(n,2),a=t[0],l=t[1];return e.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},e.map(function(e,n){return r.a.createElement(m,Object.assign({},e,{onSelect:function(){return l(n)}}))})),r.a.createElement(s,Object.assign({active:null!==a},e[a],{onClose:function(){return l(null)}}))):r.a.createElement("div",{className:"loading"},"Loading...")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,n,t){e.exports=t(11)}},[[4,1,2]]]);
//# sourceMappingURL=main.544b133b.chunk.js.map